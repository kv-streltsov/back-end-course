

  > Homework 4  Blogs with pagination  GET -> "/blogs/:blogId/posts": should return status 200; content: posts for specific blog with pagination;  used additional methods: POST -> /blogs, POST -> /posts;



    Expected: ArrayContaining [{"blogId": Any<String>, "blogName": Any<String>, "content": Any<String>, "createdAt": StringMatching /\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/, "id": Any<String>, "shortDescription": Any<String>, "title": Any<String>}]

    Received:
    [{"id":"1684210985504","createdAt":"2023-05-16T04:23:05.504Z",
    "blogName":"new blog",
    "blogId":"1684210985187",
    "title":"5401post title",
    "shortDescription":"description",
    "content":"new post content",
    "_id":"64630529658c76735a0c40dc"},
    {"id":"1684210985945","createdAt":"2023-05-16T04:23:05.945Z",
    "blogName":"new blog","blogId":"1684210985187",
    "title":"5402post title",
    "shortDescription":"description",
    "content":"new post content","_id":"64630529658c76735a0c40dd"},{"id":"1684210986112","createdAt":"2023-05-16T04:23:06.112Z","blogName":"new blog","blogId":"1684210985187","title":"5403post title","shortDescription":"description","content":"new post content","_id":"6463052a658c76735a0c40de"},{"id":"1684210986536","createdAt":"2023-05-16T04:23:06.536Z","blogName":"new blog","blogId":"1684210985187","title":"5404post title","shortDescription":"description","content":"new post content","_id":"6463052a658c76735a0c40df"},{"id":"1684210986713","createdAt":"2023-05-16T04:23:06.713Z","blogName":"new blog","blogId":"1684210985187","title":"5405post title","shortDescription":"description","content":"new post content","_id":"6463052a658c76735a0c40e0"},{"id":"1684210986863","createdAt":"2023-05-16T04:23:06.863Z","blogName":"new blog","blogId":"1684210985187","title":"5406post title","shortDescription":"description","content":"new post content","_id":"6463052a658c76735a0c40e1"},{"id":"1684210987037","createdAt":"2023-05-16T04:23:07.037Z","blogName":"new blog","blogId":"1684210985187","title":"5407post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e2"},{"id":"1684210987179","createdAt":"2023-05-16T04:23:07.179Z","blogName":"new blog","blogId":"1684210985187","title":"5408post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e3"},{"id":"1684210987322","createdAt":"2023-05-16T04:23:07.322Z","blogName":"new blog","blogId":"1684210985187","title":"5409post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e4"},{"id":"1684210987619","createdAt":"2023-05-16T04:23:07.619Z","blogName":"new blog","blogId":"1684210985187","title":"5410post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e5"},{"id":"1684210987841","createdAt":"2023-05-16T04:23:07.841Z","blogName":"new blog","blogId":"1684210985187","title":"5411post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e6"},{"id":"1684210987977","createdAt":"2023-05-16T04:23:07.977Z","blogName":"new blog","blogId":"1684210985187","title":"5412post title","shortDescription":"description","content":"new post content","_id":"6463052b658c76735a0c40e7"}]

    Wrong entity: {"id":"1684210985504","createdAt":"2023-05-16T04:23:05.504Z","blogName":"new blog","blogId":"1684210985187","title":"5401post title","shortDescription":"description","content":"new post content","_id":"64630529658c76735a0c40dc"}

      198 |       }).catch((error) => handleTestError(error));
      199 |
    > 200 |       expect(createSeveralPostsResult).toBeStrictObjectsArray(postSchema);
          |                                        ^
      201 |
      202 |       await performQueryParamsChecker({
      203 |         endpoint: `${BlogsEndpoint.BasePath}/${createdBlog.id}/${PostsEndpoint.BasePath}`,

      at Object.<anonymous> (src/tests/jest/back/describes/blogs/blogs-with-pagination-describe.ts:200:40)
          at runMicrotasks (<anonymous>)

  > Homework 4  Blogs with pagination  GET -> "blogs": should return status 200; content: blog array with pagination;  used additional methods: POST -> /blogs, GET -> /blogs;

    Passed queryParams: ""

    Expected: {"pagesCount":2,"page":1,"pageSize":10,"totalCount":12,"items":[{"id":"1684210990558","createdAt":"2023-05-16T04:23:10.558Z","isMembership":false,"name":"Timma","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210990412","createdAt":"2023-05-16T04:23:10.412Z","isMembership":false,"name":"Tima","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210989802","createdAt":"2023-05-16T04:23:09.802Z","isMembership":false,"name":"Alex","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210989668","createdAt":"2023-05-16T04:23:09.668Z","isMembership":false,"name":"Alexey","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210989449","createdAt":"2023-05-16T04:23:09.449Z","isMembership":false,"name":"Andrey","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210989069","createdAt":"2023-05-16T04:23:09.069Z","isMembership":false,"name":"Don","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210988938","createdAt":"2023-05-16T04:23:08.938Z","isMembership":false,"name":"John","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210988805","createdAt":"2023-05-16T04:23:08.805Z","isMembership":false,"name":"Gggrrttt","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210988661","createdAt":"2023-05-16T04:23:08.661Z","isMembership":false,"name":"Mima","websiteUrl":"https://someurl.com","description":"description"},{"id":"1684210988524","createdAt":"2023-05-16T04:23:08.524Z","isMembership":false,"name":"Dima","websiteUrl":"https://someurl.com","description":"description"}]}

    Received: {"pagesCount":1,"page":1,"pageSize":10,"totalCount":1,"items":[]}

      105 |
      106 |     if (expectedData) {
    > 107 |       expect(data).toBeEqualWithQueryParams(expectedData, queryParams, withDiffPrint);
          |                    ^
      108 |     }
      109 |   }
      110 | };

      at performQueryParamsChecker (src/tests/jest/back/testHelpers/performCheckers.ts:107:20)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/blogs/blogs-with-pagination-describe.ts:158:7)

  > Homework 4  Posts with pagination  GET -> "/posts": should return status 200; content: posts array with pagination;  used additional methods: POST -> /blogs, POST -> /posts;

    Passed queryParams: ""

    Expected: {"pagesCount":2,"page":1,"pageSize":10,"totalCount":12,"items":[{"id":"1684211005967","createdAt":"2023-05-16T04:23:25.967Z","blogName":"new blog11","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211005479"},{"id":"1684211005348","createdAt":"2023-05-16T04:23:25.348Z","blogName":"new blog10","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211005217"},{"id":"1684211005086","createdAt":"2023-05-16T04:23:25.086Z","blogName":"new blog9","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004941"},{"id":"1684211004761","createdAt":"2023-05-16T04:23:24.761Z","blogName":"new blog8","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004320"},{"id":"1684211004190","createdAt":"2023-05-16T04:23:24.190Z","blogName":"new blog7","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004042"},{"id":"1684211003911","createdAt":"2023-05-16T04:23:23.911Z","blogName":"new blog6","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211003646"},{"id":"1684211003071","createdAt":"2023-05-16T04:23:23.071Z","blogName":"new blog5","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002938"},{"id":"1684211002804","createdAt":"2023-05-16T04:23:22.804Z","blogName":"new blog4","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002668"},{"id":"1684211002534","createdAt":"2023-05-16T04:23:22.534Z","blogName":"new blog3","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002379"},{"id":"1684211002244","createdAt":"2023-05-16T04:23:22.244Z","blogName":"new blog2","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002084"}]}

    Received: [{"id":"1684211001675","createdAt":"2023-05-16T04:23:21.675Z","blogName":"new blog0","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211001527"},{"id":"1684211001951","createdAt":"2023-05-16T04:23:21.951Z","blogName":"new blog1","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211001808"},{"id":"1684211002244","createdAt":"2023-05-16T04:23:22.244Z","blogName":"new blog2","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002084"},{"id":"1684211002534","createdAt":"2023-05-16T04:23:22.534Z","blogName":"new blog3","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002379"},{"id":"1684211002804","createdAt":"2023-05-16T04:23:22.804Z","blogName":"new blog4","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002668"},{"id":"1684211003071","createdAt":"2023-05-16T04:23:23.071Z","blogName":"new blog5","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211002938"},{"id":"1684211003911","createdAt":"2023-05-16T04:23:23.911Z","blogName":"new blog6","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211003646"},{"id":"1684211004190","createdAt":"2023-05-16T04:23:24.190Z","blogName":"new blog7","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004042"},{"id":"1684211004761","createdAt":"2023-05-16T04:23:24.761Z","blogName":"new blog8","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004320"},{"id":"1684211005086","createdAt":"2023-05-16T04:23:25.086Z","blogName":"new blog9","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211004941"},{"id":"1684211005348","createdAt":"2023-05-16T04:23:25.348Z","blogName":"new blog10","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211005217"},{"id":"1684211005967","createdAt":"2023-05-16T04:23:25.967Z","blogName":"new blog11","content":"new post content","shortDescription":"description","title":"post title","blogId":"1684211005479"}]

      105 |
      106 |     if (expectedData) {
    > 107 |       expect(data).toBeEqualWithQueryParams(expectedData, queryParams, withDiffPrint);
          |                    ^
      108 |     }
      109 |   }
      110 | };

      at performQueryParamsChecker (src/tests/jest/back/testHelpers/performCheckers.ts:107:20)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/posts/postsWithPagination-describe.ts:66:7)
