  > Homework 6  Comments for posts with auth  POST -> "/posts/:postId/comments": should create new comment; status 201; content: created comment;  used additional methods: POST -> /blogs, POST -> /posts, GET -> /comments/:commentId;



    Expected: success response

    Received: Request failed with status code 404

    Config:
     url: comments/1685262826972
     method: get
     response status: 404
     request body: undefined
     response data: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot GET /comments/1685262826972</pre>\n</body>\n</html>\n"

      22 |     };
      23 |
    > 24 |     expect(mappedError).printError(description);
         |                         ^
      25 |   }
      26 |
      27 |   throw new Error(error.message);

      at handleTestError (src/tests/jest/back/testHelpers/handleTestError.ts:24:25)
      at src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:70:38
          at runMicrotasks (<anonymous>)
      at performPOSTTestFlow (src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:68:41)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:97:7)

  > Homework 6  Comments for posts with auth  DELETE -> "/comments/:id": should delete comment by id; status 204;  used additional methods: POST -> /blogs, POST -> /posts, GET -> /comments/:id;



    Expected: success response

    Received: Request failed with status code 404

    Config:
     url: comments/1685262830678
     method: delete
     response status: 404
     request body: undefined
     response data: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot DELETE /comments/1685262830678</pre>\n</body>\n</html>\n"

      22 |     };
      23 |
    > 24 |     expect(mappedError).printError(description);
         |                         ^
      25 |   }
      26 |
      27 |   throw new Error(error.message);

      at handleTestError (src/tests/jest/back/testHelpers/handleTestError.ts:24:25)
      at src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:126:38
          at runMicrotasks (<anonymous>)
      at performDELETETestFlow (src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:121:50)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:230:7)

  > Homework 6  Comments for posts with auth  PUT -> "/comments/:commentId": should update comment by id; status 204;  used additional methods: POST -> /blogs, POST -> /posts, POST -> /posts/:postId/comments, GET -> /comments/:commentId;



    Expected: success response

    Received: Request failed with status code 404

    Config:
     url: comments/1685262831315
     method: put
     response status: 404
     request body: {"content":"length_21-weqweqweqwq+NEW_COMMENT"}
     response data: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot PUT /comments/1685262831315</pre>\n</body>\n</html>\n"

      22 |     };
      23 |
    > 24 |     expect(mappedError).printError(description);
         |                         ^
      25 |   }
      26 |
      27 |   throw new Error(error.message);

      at handleTestError (src/tests/jest/back/testHelpers/handleTestError.ts:24:25)
      at src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:103:38
          at runMicrotasks (<anonymous>)
      at performPUTTestFlow (src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:98:50)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:134:7)

  > Homework 6  Comments for posts with auth  GET -> "comments/:commentsId": should return status 200; content: comment by id;  used additional methods: POST -> /blogs, POST -> /posts, POST -> /posts/:postId/comments;



    Expected: success response

    Received: Request failed with status code 404

    Config:
     url: comments/1685262831891
     method: get
     response status: 404
     request body: undefined
     response data: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot GET /comments/1685262831891</pre>\n</body>\n</html>\n"

      22 |     };
      23 |
    > 24 |     expect(mappedError).printError(description);
         |                         ^
      25 |   }
      26 |
      27 |   throw new Error(error.message);

      at handleTestError (src/tests/jest/back/testHelpers/handleTestError.ts:24:25)
      at src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:83:38
          at runMicrotasks (<anonymous>)
      at performGETByIdTestFlow (src/tests/jest/back/testHelpers/performTestsFlow/performTestsFlow.ts:81:72)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:202:7)

  > Homework 6  Comments for posts with auth  DELETE, PUT -> "/comments/:id", GET, POST -> "posts/:postId/comments": should return error if :id from uri param not found; status 404;



    Tested case params:
     endpoint: posts/602afe92-7d97-4395-b1b9-6cf98b351bbe/comments,
     method: GET,
     headers: undefined,

    Expected status: 404

    Received status: 200

      49 |       }
      50 |
    > 51 |       expect(status).toBeWith4xxStatus(expectedStatusCode, {
         |                      ^
      52 |         headers,
      53 |         endpoint,
      54 |         method,

      at performEndpointErrorChecker (src/tests/jest/back/testHelpers/performCheckers.ts:51:22)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:279:7)

  > Homework 6  Comments for posts with auth  DELETE, PUT -> "/comments/:id", POST -> "posts/:postId/comments": should return error if auth credentials is incorrect; status 401;  used additional methods: POST -> /blogs, POST -> /posts, POST -> /comments;



    Tested case params:
     endpoint: comments/1685262832846,
     method: PUT,
     headers: undefined,
    body: {}

    Expected status: 401

    Received status: 404

      49 |       }
      50 |
    > 51 |       expect(status).toBeWith4xxStatus(expectedStatusCode, {
         |                      ^
      52 |         headers,
      53 |         endpoint,
      54 |         method,

      at performEndpointErrorChecker (src/tests/jest/back/testHelpers/performCheckers.ts:51:22)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:324:7)

  > Homework 6  Comments for posts with auth  PUT, DELETE -> "/comments/:id": should return error if access denied; status 403;  used additional methods: POST -> /users;



    Tested case params:
     endpoint: comments/1685262833565,
     method: PUT,
     headers: {"Authorization":"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiIxNjg1MjYyODMzOTU5IiwiaWF0IjoxNjg1MjYyODM0LCJleHAiOjE2ODUzMDI0MzR9._SQGZk44K6YUUrGEWHDcds_5mpToxCzhokJU0NuDQ84"},
    body: {"content":"length_21-weqweqweqwq+NEW"}

    Expected status: 403

    Received status: 404

    Description: try to update or delete the entity that was created by another user

      49 |       }
      50 |
    > 51 |       expect(status).toBeWith4xxStatus(expectedStatusCode, {
         |                      ^
      52 |         headers,
      53 |         endpoint,
      54 |         method,

      at performEndpointErrorChecker (src/tests/jest/back/testHelpers/performCheckers.ts:51:22)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-V2-describe.ts:375:7)

  > Homework 6  Comments for posts with auth  Comments body validation  PUT -> "/comments/:commentId": should return error if passed body is incorrect; status 400;  used additional methods: POST -> /blogs, POST -> /posts;



    Tested endpoint: comments/1685262835253

    Tested method: PUT

    Expected status: 400

    Received status: 404

    Passed body: {"content":"short"}

    Expected data: { errorsMessages: [{ message: Any<String>, field: "content" }] }

    Received data: "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"utf-8\">\n<title>Error</title>\n</head>\n<body>\n<pre>Cannot PUT /comments/1685262835253</pre>\n</body>\n</html>\n"

      40 |     }
      41 |
    > 42 |     expect(response).toBeError(400, incorrectFields, requestBody, {
         |                      ^
      43 |       endpoint: url,
      44 |       method,
      45 |     });

      at performTestsWithIncorrectBody (src/tests/jest/back/testHelpers/performTestsWithIncorrectBody.ts:42:22)
          at runMicrotasks (<anonymous>)
      at Object.<anonymous> (src/tests/jest/back/describes/comments/comments-body-validatin-v2-describe.ts:76:7)
